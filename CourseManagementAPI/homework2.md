# üè† Home Task: Middleware in ASP.NET Core

## üîπ –ó–∞–¥–∞–Ω–∏–µ 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ middleware, –∫–æ—Ç–æ—Ä—ã–π:

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ILogger –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
- –ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º next() –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –ª–æ–≥ –º–µ—Ç–æ–¥ –∏ –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: GET /products, POST /users).
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è next() –∏–∑–º–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö) –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –µ–≥–æ –≤ –ª–æ–≥.

## üîπ –ó–∞–¥–∞–Ω–∏–µ 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ middleware, –∫–æ—Ç–æ—Ä—ã–π:

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `X-API-KEY`.
- –ï—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `401 Unauthorized`.
- –ï—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å ‚Äî –ø–µ—Ä–µ–¥–∞—ë—Ç –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ.

---

## üîπ –ó–∞–¥–∞–Ω–∏–µ 3. –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫

–°–æ–∑–¥–∞–π—Ç–µ middleware, –∫–æ—Ç–æ—Ä—ã–π:

- –û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `next()` –≤ `try-catch`.
- –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `500 Internal Server Error` –∏ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –≤ –æ—Ç–≤–µ—Ç–µ.
- –õ–æ–≥–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –≤ ILogger.

---

## 4. Role-based –¥–æ—Å—Ç—É–ø (Admin vs User)

Middleware —á–∏—Ç–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-User-Role.

- –ï—Å–ª–∏ Admin ‚Üí –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.
- –ï—Å–ª–∏ User ‚Üí —Ç–æ–ª—å–∫–æ GET –º–µ—Ç–æ–¥—ã.
- –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí 403 Forbidden.

üëâ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: CRM/ERP —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—Å—ë, –∞ —Å—Ç—É–¥–µ–Ω—Ç –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å.

## 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (Night Mode)

Middleware –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è.

- –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—Ö–æ–¥–∏—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ—á—å—é —Å 00:00 –¥–æ 06:00, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 403 Forbidden —Å —Ç–µ–∫—Å—Ç–æ–º "–°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–æ—á—å—é".

üëâ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –∫–∞–∫ –≤ –±–∞–Ω–∫–∞—Ö, –∫–æ–≥–¥–∞ –ø–ª–∞—Ç–µ–∂–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –Ω–æ—á—å—é –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–∞–±–æ—Ç.

## üìÇ –§–æ—Ä–º–∞—Ç —Å–¥–∞—á–∏

- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub —Å –ø—Ä–æ–µ–∫—Ç–æ–º ASP.NET Core.
- –ú–∏–Ω–∏–º—É–º 3 —Å–≤–æ–∏—Ö middleware-–∫–ª–∞—Å—Å–æ–≤.
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã –ª–æ–≥–æ–≤ –∏ —Ä–∞–±–æ—Ç—ã API –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö (–±–µ–∑ –∫–ª—é—á–∞, —Å –æ—à–∏–±–∫–æ–π –∏ —Ç.–¥.) –≤ README.MD.

---
